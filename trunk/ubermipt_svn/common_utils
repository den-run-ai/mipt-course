#!/bin/false

author_info() {
  echo "Автор программы - Тимур Исходжанов. Если при работе"
  echo "с программой возникнут проблемы или будут найдены"
  echo "ошибки - сообщите на timurrrr+miptsvn@gmail.com"
  echo
}

check_username_format() {
  # $1 - Имя пользователя
  if [[ "$1" =~ ^[a-z][a-z0-9]+$ ]]
  then
    true
  else
    echo "ОШИБКА: Недопустимый username!"
    exit 1
  fi
}

check_user_doesnt_exist() {
  # $1 - Имя пользователя
  if grep -q "^$1=" ~/authz ~/passwd
  then
    echo "ОШИБКА: такой пользователь уже существует!"
    echo "Проверьте файлы ~/authz и ~/passwd вручную."
    exit 1
  fi
}

password_unencrypted_warning() {
  echo
  echo "ПРИМЕЧАНИЕ: Пароли хранятся в незашифрованном виде,"
  echo "поэтому рекомендуется придумать уникальный"
  echo "(не такой как на почте, на работе, ...)."
  echo
}

check_password() {
  # $1 - Пароль, первая попытка
  # $2 - Пароль, Вторая попытка
  if [ ${#1} -lt 8 ]
  then
    echo "ОШИБКА: Пароль короче 8 символов!"
    exit 1
  fi

  if [ "$1" != "$2" ]
  then
    echo "ОШИБКА: Пароли были набраны по-разному!"
    echo "Повторите попытку."
    exit 1
  fi
}
